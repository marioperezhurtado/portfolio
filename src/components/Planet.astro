---
interface Props {
  name: string;
  image: string;
  rotationSpeed: number;
  orbitSpeed: number;
  size: number;
  orbitSize: number;
}

const { image, rotationSpeed, orbitSpeed, size, orbitSize } = Astro.props;

const startingOrbit = Math.random() * 360;
---

<div id="orbit" class="absolute border-2 border-pf-dark-2 rounded-full">
  <div id="planet" class="absolute rounded-full">
    <img src={image} class="rounded-full" />
  </div>
</div>

<style define:vars={{ rotationSpeed, orbitSpeed, size, orbitSize, startingOrbit}}>
  #planet {
    top: calc((var(--orbitSize) / 3.6 - var(--size)) / 2 * 1px);
    left: calc((var(--orbitSize) / 3.6 - var(--size)) / 2 * 1px);
    width: calc(var(--size) * 1px);
    height: calc(var(--size) * 1px);
    animation: spin linear infinite;
    animation-duration: calc(var(--rotationSpeed) * 1s);
  }

  #orbit {
    width: calc(var(--orbitSize) * 1px);
    height: calc(var(--orbitSize) * 1px);
    animation: orbit linear infinite;
    animation-duration: calc(var(--orbitSpeed) * 1s);
  }

  @keyframes orbit {
    from {
      transform: rotate(calc(var(--startingOrbit) * 1deg));
    }
    to {
      transform: rotate(calc(var(--startingOrbit) * 1deg + 360deg));
    }
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
</style>
